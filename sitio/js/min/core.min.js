
;var domEl,tempsNames,urlsApi;domEl={_back_to_top:".back-to-top",_start_dealer_search_map:"content-start-dealer-search-map",_start_dealer_search_map_name:"#content-start-dealer-search-map",_start_full_width_features:"content-start-full-width-features",_start_full_width_features_name:"#content-start-full-width-features",_start_hero_carousel:"content-start-hero-carousel",_start_hero_carousel_name:"#content-start-hero-carousel",_start_large_pad_group_counter:"content-start-large-pad-group-counter",_start_large_pad_group_counter_name:"#content-start-large-pad-group-counter",_start_large_pad_our_brands:"content-start-large-pad-our-brands",_start_large_pad_our_brands_name:"#content-start-large-pad-our-brands",_start_site_navbar:"content-start-site-navbar",_start_site_navbar_name:"#content-start-site-navbar",div_hidden_inputs_session:"div#hidden-inputs-session",div_hidden_inputs_temporal:"div#hidden-inputs-temporal",div_recurrent:"div#content-temporal-interactive",recurrent_body:"body",recurrent_head:"head",validate_required:".validate-required"},tempsNames={recurrent_home_dealer_search_gmap:"tmp_section_home_dealer_search_gmap",recurrent_home_full_width_features:"tmp_section_home_full_width_features",recurrent_home_group_counter:"tmp_section_home_group_counter",recurrent_home_hero_slide_carousel:"tmp_section_home_hero_slide_carousel",recurrent_home_our_brands:"tmp_section_home_our_brands",recurrent_home_start_site_navbar:"tmp_section_home_start_site_navbar"},urlsApi={getBrandsLogos:"api/v15/get/agencia/nuevos/marcas/logotipos",getGroupCounter:"api/v15/get/grupo/camcar",getMapa:"api/v15/get/mapa/seminuevo",getMapaById:"api/v15/get/mapa/seminuevo/"};
function resetAlert(){alertify.set({labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok"})}var section,IS_MOBILE=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),multipleSupport="undefined"!=typeof $("<input/>")[0].multiple,isIE=/msie/i.test(navigator.userAgent),offset,offset_opacity,scroll_top_duration;offset=300,offset_opacity=1200,scroll_top_duration=700;var backToTopMethod={backToTop:function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},scroll_top_duration)},windowScroll:function(){$(this).scrollTop()>offset?$(domEl._back_to_top).addClass("cd-is-visible"):$(domEl._back_to_top).removeClass("cd-is-visible cd-fade-out"),$(this).scrollTop()>offset_opacity&&$(domEl._back_to_top).addClass("cd-fade-out")},init_window_scroll_top:function(){$(window).scroll(backToTopMethod.windowScroll)}},favicon={load_favicon:function(){favicon.change("../img/ico/camcaricon.ico")},change:function(e,a){2==arguments.length&&(document.title=optionamDocTitle),this.addLink(e,"shortcur icon")},addLink:function(e,a){var n=document.createElement("link");n.type="image/x-icon",n.rel=a,n.href=e,this.removeLinkIfExists(a),this.docHead.appendChild(n)},removeLinkIfExists:function(e){for(var a=this.docHead.getElementsByTagName("link"),n=0;n<a.length;n++){var t=a[n];if("image/x-icon"==t.type&&t.rel==e)return void this.docHead.removeChild(t)}},docHead:document.getElementsByTagName("head")[0]},sticky_wrapper_methods={sticky_wrapper:function(){$(".navbar").waypoint("sticky",{wrapper:'<div class="sticky-wrapper" />',stuckClass:"sticky"})}},animatedMethods={animated:function(){$(".animated").appear(function(){var e,a,n;e=$(this),a=e.data("animation"),n=e.data("delay"),n?setTimeout(function(){e.addClass(a+" visible"),e.removeClass("hiding"),e.hasClass("counter")&&e.find(".value").countTo()},n):(e.addClass(a+" visible"),e.removeClass("hiding"),e.hasClass("counter")&&e.find(".value").countTo())},{accY:-150})}},wow_animated_methods={wow_animated:function(){var e=$(window).width();e>480&&(wow=new WOW({animateClass:"animated",offset:0}),wow.init())}},mobile_menu_methods={mobile_menu_toggle:function(e){$(this).toggleClass("opened"),$(".toggle-menu").slideToggle(),$(".site-header-wrapper").toggleClass("sticktr"),$(".body").toggleClass("sticktr");var a=$(".site-header").innerHeight(),n=$(".navbar").innerHeight(),t=$(".top-header").innerHeight();return $(".toggle-menu").css("top",n),$(".header-v2 .toggle-menu").css("top",a),$(".header-v3 .toggle-menu").css("top",a+t),console.log("test"),!1},has_menu_toggle:function(){$("#menu-toggle").hasClass("opened")?$(".toggle-menu").css("display","block"):$("#menu-toggle").css("display","none")}},setWidthMethod={setWidth:function(){var e,a;e=Array(),a=Array(),$(".grid-content").each(function(){var n,t;n=$(this).find("#content-title"),t=$(this).find("#container-paragraph"),n.html().length>115&&(e.push(n.html()),n.html(n.html().substr(0,115)+"<i style='color: #000; font-size: 14px;'>...</i>")),t.html().length>220&&(a.push(t.html()),t.html(t.html().substr(0,220)+"<i style='color: #000; font-size: 14px;'>...</i>")),$(this).show()})}},equalHeightsMethods={equalHeightsLoad:function(){var e=0;$(".equal-height").each(function(){$(this).height()>e&&(e=$(this).height())}),$(".equal-height").height(e)}},changeInputsMethods={clickChangeCheckbox:function(e){$(".label-checkbox").length&&$(".label-checkbox input:checked").each(function(){$(this).parent("label").addClass("checkbox-checked")}),$(this).is(":checked")?($(this).parent(".label-checkbox").find(":checkbox").attr("checked",!0),$(this).parent(".label-checkbox").addClass("checkbox-checked"),$(this).val("on"),$("#contact_subscription").val("Activado"),$("#test_drive_model_subscription").val("Activado")):($(this).parent("label").find(":checkbox").attr("checked",!1),$(this).parent("label").removeClass("checkbox-checked"),$(this).val("off"),$("#contact_subscription").val("Desactivado"),$("#test_drive_model_subscription").val("Desactivado"))},clcikChangeRadio:function(e){$(".label-radio").length&&$(".label-radio input:checked").each(function(){}),$(this).hasClass("radio-checked")?($(this).find(":radio").attr("checked",!0),$(this).addClass("radio-checked")):($(".label-radio").removeClass("radio-checked"),$(".label-radio").find(":radio").attr("checked",!1),$(this).find(":radio").attr("checked",!0),$(this).addClass("radio-checked"))}},windowWidthMethod={windowWidth:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(e>900)for(var a,n,t,i,s=document.querySelectorAll(".HeroCarousel"),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=0;r<s.length;r++){for(a=s[r],n=0,t=a;t;)n+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;i=o-n,i>450&&(a.style.height=i+"px")}}},goSectionMethod={goSection_home:function(){}},addAttrForSectionMethod={addAttrForSection_home:function(){}},removeAttrForSectionMethod={removeAttrForSection_home:function(){}},addStylesForSectionMethod={addStylesSection_home:function(){}},cleanStylesForSectionMethod={cleanStylesForSection:function(){},cleanStylesSection_home:function(){}},getFunctionsMethods={getFunctions:function(){backToTopMethod.init_window_scroll_top()}},viewSectionHomeMethod={addTemplatesSectionHome:function(){CAM.loadTemplate(tempsNames.recurrent_home_start_site_navbar,domEl._start_site_navbar_name),CAM.loadTemplate(tempsNames.recurrent_home_hero_slide_carousel,domEl._start_hero_carousel_name),viewSectionHomeMethod.loadTemplatesOurBrands(),CAM.loadTemplate(tempsNames.recurrent_home_group_counter,domEl._start_large_pad_group_counter_name),CAM.loadTemplate(tempsNames.recurrent_home_full_width_features,domEl._start_full_width_features_name),CAM.loadTemplate(tempsNames.recurrent_home_dealer_search_gmap,domEl._start_dealer_search_map_name)},loadTemplatesOurBrands:function(){var e;e=CAM.getInternalJSON(urlsApi.getBrandsLogos),CAM.loadTemplate(tempsNames.recurrent_home_our_brands,domEl._start_large_pad_our_brands_name,e)},loadTemplatesSectionHome:function(){viewSectionHomeMethod.addTemplatesSectionHome()},recurrentSecionHome:function(){dataStarSiteHomeAttributes=[["header",{id:domEl._start_site_navbar,"class":"navbar navigation-bar-header nav-content"},"",1],["div",{id:domEl._start_hero_carousel,"class":"about-content hero-content"},"",1],["section",{id:domEl._start_large_pad_our_brands,"class":"large-pad about-content"},"",1],["section",{id:domEl._start_large_pad_group_counter,"class":"large-pad about-content black-paper-bg text-white",style:"padding: 30px 0 15px;"},"",1],["section",{id:domEl._start_full_width_features,"class":"fullwidth-features about-content"},"",1],["div",{id:domEl._start_dealer_search_map,"class":"dealer-search-map about-content"},"",1]],CAM.appendMulti(domEl.div_recurrent,dataStarSiteHomeAttributes)},viewSectionHome:function(){viewSectionHomeMethod.recurrentSecionHome(),viewSectionHomeMethod.loadTemplatesSectionHome()}},removeRecurrentsMethod={removeRecurrents:function(){},removeRecurrents_home:function(){}},agentsMap={AgentsMap:function(){function e(e,a,n){google.maps.event.addListener(a,"click",function(){n.open(e,a)})}var a,n,t,i,s,o,r,l,d,c,m,u,p,g;n=CAM.getInternalJSON(urlsApi.getMapa),s=n.campa[0].agn_latitud,agn_longitud=n.campa[0].agn_longitud,d=new google.maps.LatLng(s,agn_longitud),a=[{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#2ec3f3"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#cccccc"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#666666"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#bbbbbb"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#dddddd"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#e5e5e5"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]}],c={zoom:10,center:new google.maps.LatLng(s,agn_longitud),scrollwheel:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},m=new google.maps.Map(document.getElementById("gmap"),c),u=new Array,p=new google.maps.LatLngBounds,g=new Array;for(var h=0;h<n.campa.length;h++)t=n.campa[h].agn_nombre,i=n.campa[h].agn_direccion,o=n.campa[h].agn_folder,r="sitio/agencias/logos",l=n.campa[h].agn_logo2,s=n.campa[h].agn_latitud,agn_longitud=n.campa[h].agn_longitud,u[h]=new google.maps.Marker({position:new google.maps.LatLng(s,agn_longitud),map:m,icon:"../img/sitio/pin_camcar.png",title:t,animation:google.maps.Animation.DROP}),p.extend(u[h].getPosition()),g[h]=new google.maps.InfoWindow({content:'<div class="marker-info-win" style="text-align: center;"><div class="marker-inner-win"><span class="info-content"><img src="../img/'+r+"/"+l+'" alt="'+t+'" style="margin-botton: 10px;" width="100"><h5 class="marker-heading" style="color:#000; padding: 0px; margin: 0px;">'+t+"</h5><span>"+i+"</span></span></div></div>"}),e(m,u[h],g[h]);m.fitBounds(p)},loadAgentsMap:function(){google.maps.event.addDomListener(window,"load",agentsMap.AgentsMap())}},inputValMetdods={isIntegerKP:function(e){return/\d/.test(String.fromCharCode(e.keyCode))},isDecimalKP:function(e){var a,n;return n=$(this).val(),a=e.keyCode?e.keyCode:e.which,8==a?!0:a>47&&58>a?""==n?!0:(regexp=/.[0-9]{15}$/,!regexp.test(n)):46==a?""==n?!1:(regexp=/^[0-9]+$/,regexp.test(n)):!1},roundDecimalBlur:function(e){var a;a=$(this).val(),a=CAMAD.roundNDecimalFormat(a,2),$(this).val(a)}},validations_regexp={address:new RegExp(/^[a-zá-úüñ,#0-9. -]{2,}$/i),date:new RegExp(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),name:new RegExp(/^[a-zá-úüñ. ]{2,}$/i),phone:new RegExp(/^[0-9\s\-]{7,13}$/),upload:new RegExp(/^[\w+\/]+\.\w{3}$/)},validation_messages={date:"Debe ser aaaa-mm-dd",date_tomorrow:"Sólo a partir de mañana",email:"Verifica tu correo",general:"Campo no válido",not_config:"Tipo desconocido",not_null:"No puede ser nulo",phone:"Verifica que tu número sea de 10 dígitos",required:"Campo requerido",empty:"Campo vacío",upload:"Archivos validos: PDF, DOC, DOCX"},validateMethods={validate:function(e,a,n,t,i,s){var o,r,l={valid:!1,message:""},d=void 0==e||""===e||e===$("#user_profile_pic").val();if(n=n===!0?!0:!1,n?d&&(l.message=validation_messages.required):d&&(l.valid=!0),!l.valid&&""===l.message){for(o=a.length;o--;)switch(r=a[o]){case"email":validations_regexp.email.test(e)||(l.message=validation_messages.email);break;case"name":validations_regexp.name.exec(e)||(l.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(l.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(l.message=validation_messages.phone);break;case"area":is_model_name(e)||(l.message=validation_messages.general);break;case"upload":valid_extension_file(i,e)||(l.message=validation_messages.upload);break;default:l.message=validations_regexp.not_config}""===l.message&&(l.valid=!0)}return t&&!l.valid&&(l.message=t),l},error_bubble:function(e,a,n){var t=e.parent().children("p.invalid-message");a?n?t.html(n+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()},validate_input:function(e){var a=$(e.target);if(a.is("input")||a.is("textarea")||a.is('input[type="file"]')){var n=a.data("validation-data"),t=n.split("|"),i=t.indexOf("required");i>=0&&t.splice(i,1);var s=a.val(),o=validateMethods.validate(s,t,i>=0);return validateMethods.error_bubble(a,!o.valid,o.message),o.valid}var r=!(null===a.val());return validateMethods.error_bubble(a,!r,validation_messages.required),r}};
var CAM={};CAM=function(){function e(e,a){return moment.lang(a),moment(e).format("dddd[,] LL")}function a(e,a){return moment.lang(a),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function n(e,a,n){var t=Handlebars.templates[e];$(a).html(n?t(n):t)}function t(e){return $(e).val()}function i(e,a){$(e).val(a)}function s(e){return $(e).val()?!0:!1}function o(e){var a,n;a=$(e).val(),n=$.trim(a),$(e).val(n)}function r(e){return $(e).html()}function l(e,a){$(e).html(a)}function d(e){var a,n;a=$(e).val(),n=hex_sha512(a),$(e).val(n)}function c(e,a,n,t,i){var s;s="<"+a;for(var o in n)s+=n.hasOwnProperty(o)?" "+o+"='"+n[o]+"'":"";i?(s+=">",s+=t,s+="</"+a+">"):(s+=" >",s+=t),$(e).append(s)}function m(e,a){for(var n=0;n<a.length;n++)c(e,a[n][0],a[n][1],a[n][2],a[n][3])}function u(e,a,n){var t,i,s,o,r,l;t=new Date,i=new Date(t),i.setDate(t.getDate()+a),s=i.getFullYear(),o=+i.getMonth(),o+=1,r=i.getDate(),l=s+"-"+o+"-"+r,$(e).datetimepicker({pickTime:!1}),n?($(e).data("DateTimePicker").setMinDate(i),$(e).data("DateTimePicker").setDate(l)):$(e).data("DateTimePicker").setDate(l)}function p(e,a){var n;return n=_.size(_.compact(_.pick(e,a))),n===a.length?!0:!1}function g(e,a){var n;return n=_.size(_.compact(_.pick(e,a))),n?!1:!0}function h(e){$(e).each(function(){this.reset()})}function v(e,a){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(a)})}function f(e){var a;return a=function(){var a=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){a=e}),a}()}function b(e,a,n,t){return _.filter(_.pluck(e,a),function(e){return t?e===n:e!==n})}function y(e,a){return _.reduce(_.pluck(e,a),function(e,a){return e+a})}function w(e,a){var n,t;n=[],t=_.pairs(a);for(var i=0;i<e.length;i++)for(n[i]={},j=0;j<t.length;j++)n[i][t[j][0]]=e[i][t[j][1]];return n}function k(e,a){var n,t;do n=e.length,e=_.without(e,_.findWhere(e,a)),t=e.length;while(n!==t);return e}function x(e,a){pairs=_.pairs(a),withoutArrayObj=[];for(var n=0;n<pairs.length;n++)withoutArrayObj[n]=new Object,withoutArrayObj[n][pairs[n][0]]=pairs[n][1];for(n=0;n<withoutArrayObj.length;n++)e=k(e,withoutArrayObj[n]);return e}function C(e){var a;return a=accounting.formatMoney(e)}function S(e){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n=4,t="",i=0;n>i;i++){var s=Math.floor(Math.random()*a.length);t+=a.substring(s,s+1)}$(e).val(t)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){returnnumber+(1===e?"er":"a")},week:{dow:1,doy:6}}),{momentToHuman:a,momentToRoman:e,loadTemplate:n,getValue:t,setValue:i,exist:s,getHTML:r,setHTML:l,appendOne:c,appendMulti:m,trimValue:o,cryptElement:d,setDateTPCalendar:u,validFormFull:p,validFormEmpty:g,resetForm:h,postalService:v,getInternalJSON:f,filterArrayObjByKey:b,sumArrayObjByKey:y,renameArrayObjKeys:w,withoutArrayObjAND:k,withoutArrayObjOR:x,currencyFormat:C,randomString:S}}();
Finch.route("/",{setup:function(e){section="home",window.onload=favicon.load_favicon()},load:function(e){viewSectionHomeMethod.viewSectionHome(),sticky_wrapper_methods.sticky_wrapper(),agentsMap.loadAgentsMap(),agentsMap.loadAgentsMap(),animatedMethods.animated(),$(window).resize(mobile_menu_methods.has_menu_toggle),backToTopMethod.init_window_scroll_top()},unload:function(e){section="",CAM.setHTML(domEl.div_recurren,"")}}),Finch.listen();
$(document).ready(function(){$.fn.serializeFormJSON=function(){var e={},a=this.serializeArray();return $.each(a,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Number.prototype.format=function(e,a){var n="(\\d)(?=(\\d{"+(a||3)+"}) + "+(e>0?"\\.":"$")+")";return this.toFixed(Math.max(0,~~e)).replace(new RegExp(n,"g"),"$1,")},$(domEl.recurrent_body).on("click",domEl._back_to_top,backToTopMethod.backToTop),$(domEl.div_recurrent).on("click","#menu-toggle",mobile_menu_methods.mobile_menu_toggle)});
